# ヨンジン専門大学校 卒業プロジェクト Follow_Me 
<p align="center">
    <img src="https://user-images.githubusercontent.com/64718800/111408689-fd166400-8718-11eb-8c19-fc7a93d9beeb.png" width="300">
</p>

## Beaconを利用した大型病院の屋内ナビゲーションサービス  

--- 

## 目次
[1. サービス紹介](#サービス紹介)   
[2. DataBase 設計](#DataBase設計)    
[3. Sequence Diagram](#Sequence-Diagram)  
[3. API 種類](#API-種類)   
[4. 開発期間](#開発期間)   
--- 
---
## サービス紹介
### サービス名
- Follow Me(信じてついて来てくださいという意味)
### サービス背景
1. 大型病院で道に迷い
    -  病院の規模が大きいほど診療室や検査室が多く、なかなか見つかりにくい
    -  大手病院で案内板だけに頼って道を探すのは困難
2. 受付の混乱と会計待ちによる時間の浪費
    - 受付に待機者が多く、お客様の待ち時間が増加
    - 診療を終えた後、収納窓口を訪問すると時間が無駄
### コアサービス
1. 大型病院で検査の順番に沿って各診療室や検査室を案内するナビゲーションサービス
2. アプリでQRコードを発行して、診療室にあるQRスキャナーを通じて診療受け付けを完了し、待機番号を発行するサービス
3. アプリを利用した決済サービス
---
## DataBase 設計
### システム要求解析
<span>
    <img src="https://user-images.githubusercontent.com/64718800/111406133-10bfcb80-8715-11eb-9f5b-2b71bf149dcd.JPG" width="200">
</span>
<span>
    <img src="https://user-images.githubusercontent.com/64718800/111406133-10bfcb80-8715-11eb-9f5b-2b71bf149dcd.JPG" width="200">
</span>

### DB ERD
<p align="center">
    <img src="https://user-images.githubusercontent.com/64718800/111405790-78c1e200-8714-11eb-9521-96b7ff0b8750.JPG" width="1000">
</p>

---
## Sequence-Diagram
<p align="center">
    <img src="https://user-images.githubusercontent.com/64718800/111408992-71e99e00-8719-11eb-879f-da79aee4c229.png" width="1300">
</p>

---
## API 種類
### App
- 患者ログイン
- 患者会員加入 
- 患者ログアウト
- 医療スタッフアプリ診療室QRスキャナー→診療受付
- 三辺測量に必要な全体ビーコンリストの返却
- 診療動線のご案内(ダイクストラアルゴリズムによる最短経路ノード)
- 動線リストから当該動線を選択した場合、最短経路を返却
- 検索によるナビゲーションに必要な部屋情報リストの返却 
- 検索によるナビゲーションの最短経路返却 
- 検索によるナビゲーションから現在地による最短経路返却
- 待機番号(pusherを使ったリアルタイム待機番号)
- 未決済診療費の内訳返却
- 決済された診療費の内訳返却
- 以前の診療動線リスト返却

### 医療スタッフ Web
- 医療スタッフログイン
- 医療スタッフ会員登録(決まった医療スタッフのみ会員登録可能)
- 医療スタッフログアウト
- 患者データ作成(アプリ会員か判別後create、update)
- 患者の名前で検索(同名異人リストを返却)
- 患者のリストで選択した後、患者情報返却（患者情報、診療動線）
- 患者の診療受付及びアップデート（QRコード受付で不明なデータ:医師の名前、診療時間、診療費など）
- 診療情報を持ってくる(診療科、診療室、医師)
- 該当患者の診療終了ボタンをクリックすると待機順番に反映
- 患者の現在の日付診療データを取得
- 動線設定に必要な部屋情報を取得
- 患者の診療動線設定

### 管理者 Web
- 管理者ログイン
- 管理者ログアウト
- ビーコンメインページ(ビーコンの位置及び情報を取得)
- ビーコン情報修正
- ビーコン情報検索
- ノードメインページ(ノード位置情報取得)
- ノード情報修正
- ノード距離のメインページ - ノード間の設定情報及び距離値を取得
- 病院の部屋とノードをつなぐ
- 部屋の情報アップデート

## 開発期間
企画期間 : 2020-09-11 ~ 2020-10-31   
開発期間 : 2020-11-01 ~ 2021-03-02


