# í•´ì•¼í•  ì¼ 
- ë…¸ë“œ í˜ì´ì§€ API   
- ë””ìŠ¤í”Œë ˆì´ ìš© API ì‘ì„± 
- ë©”ì‹œì§€ ë³€ê²½ (Web ë©”ì‹œì§€ X, App ë©”ì‹œì§€ ë³€ê²½)
- ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ ê³µë¶€ 
- ì¤‘ë³µ ë°°ì œ- ì½”ë“œ modelë¡œ ì´ë™ 

# API ì¢…ë¥˜
## App
- í™˜ì ë¡œê·¸ì¸ 
- í™˜ì íšŒì›ê°€ì… 
- í™˜ì ë¡œê·¸ì•„ì›ƒ 
- ì˜ë£Œì§„ ì•± ì§„ë£Œì‹¤ QRìŠ¤ìºë„ˆ -> ì§„ë£Œ ì ‘ìˆ˜
- ì‚¼ë³€ì¸¡ëŸ‰ì— í•„ìš”í•œ ë…¸ë“œ, ë¹„ì½˜ ì •ë³´ GET
- ì§„ë£Œ ë™ì„  ì•ˆë‚´ (ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì„ í†µí•œ ìµœë‹¨ ê²½ë¡œ ë…¸ë“œ)
- ê²€ìƒ‰ì„ í†µí•œ ë‚´ë¹„ê²Œì´ì…˜ 
- ëŒ€ê¸°ìˆœë²ˆ (pusherë¥¼ ì‚¬ìš©í•œ ì‹¤ì‹œê°„ ëŒ€ê¸°ìˆœë²ˆ)
- ë¯¸ê²°ì œ ì§„ë£Œë¹„ ë‚´ì—­
- ê²°ì œëœ ì§„ë£Œë¹„ ë‚´ì—­ ì¡°íšŒ
- ì´ì „ ì§„ë£Œ ë™ì„  ì¡°íšŒ

## ê´€ë¦¬ì Web
- ê´€ë¦¬ì ë¡œê·¸ì¸
- ë¹„ì½˜ ë©”ì¸í˜ì´ì§€ - ë¹„ì½˜ ìœ„ì¹˜ ë° ì •ë³´ ê°€ì ¸ì˜¤ê¸°
- ë¹„ì½˜ ì •ë³´ ìˆ˜ì •
- ë¹„ì½˜ ì •ë³´ ê²€ìƒ‰ 
- ë…¸ë“œ ë©”ì¸í˜ì´ì§€ - ë…¸ë“œ ìœ„ì¹˜ì •ë³´ + ë…¸ë“œ ì—°ê²° ì •ë³´ GET 
- ë…¸ë“œ ì •ë³´ ë° ì—°ê²° ì •ë³´ ìˆ˜ì •í•˜ê¸° 

## ì˜ë£Œì§„ Web
- ì˜ë£Œì§„ ë¡œê·¸ì¸
- ì˜ë£Œì§„ íšŒì›ê°€ì… (ê´€ë¦¬ìë§Œ íšŒì›ê°€ì… ê°€ëŠ¥ => ìˆ˜ì • í•„ìš” )
- í™˜ì ë°ì´í„° ìƒì„± (ì•± íšŒì›ìì¸ì§€ íŒë³„ í›„ create, update) 
- í™˜ì ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰ (ë™ëª…ì´ì¸ ëª©ë¡ ë°˜í™˜)
- í™˜ì ëª©ë¡ì—ì„œ ì„ íƒ í›„ í™˜ì ì •ë³´ ì¡°íšŒ(í™˜ì ì •ë³´, ìµœê·¼ ì§„ë£Œ ë°ì´í„°, ì§„ë£Œ ë™ì„ ) 
- í™˜ì ì§„ë£Œ ë°ì´í„° ì—…ë°ì´íŠ¸ (QRì½”ë“œ ì ‘ìˆ˜ë¡œ ì•Œ ìˆ˜ ì—†ëŠ” ë°ì´í„° : ì˜ì‚¬ ì´ë¦„, ì§„ë£Œ ì‹œê°„, ì§„ë£Œë¹„ ë“±)
- í™˜ì í˜„ì¬ ë‚ ì§œ ì§„ë£Œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° 
- í•´ë‹¹ í™˜ì ì§„ë£Œ ì¢…ë£Œ ë²„íŠ¼ í´ë¦­ ì‹œ ëŒ€ê¸°ìˆœë²ˆì— ë°˜ì˜
- í™˜ì ì§„ë£Œ ë™ì„  ì„¤ì • 

# git ì œì™¸ íŒŒì¼
/node_modules
/public/hot
/public/storage
/storage/*.key
/vendor
.env
.env.backup
.phpunit.result.cache
Homestead.json
Homestead.yaml
npm-debug.log
yarn-error.log

# eloquent 
- [ì°¸ê³ ì‚¬ì´íŠ¸](https://silnex.github.io/blog/laravel-eloquent-tips-tricks/)
# ë¹„ì½˜ ìŠ¤ìºë„ˆ SQL
```php
UPDATE `beacons` SET `beacon_scanner_id`= "1_S001" WHERE `beacon_id_minor` >= 15013 AND `beacon_id_minor` <= 15015;
UPDATE `beacons` SET `beacon_scanner_id`= "1_S002" WHERE `beacon_id_minor` >= 15001  AND `beacon_id_minor` <= 15003;
UPDATE `beacons` SET `beacon_scanner_id`= "2_S001" WHERE `beacon_id_minor` >= 15004  AND `beacon_id_minor` <= 15006;
UPDATE `beacons` SET `beacon_scanner_id`= "2_S002" WHERE `beacon_id_minor` >= 15007  AND `beacon_id_minor` <= 15009;
UPDATE `beacons` SET `beacon_scanner_id`= "2_S003" WHERE `beacon_id_minor` >= 15010  AND `beacon_id_minor` <= 15012;
```

# ì „ì²´ ì§„ë£Œ ë™ì„  
```php
//ì§„ë£Œ ë™ì„  ì•ˆë‚´ ( + ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜)
public function app_flow(Request $request){
    //DBì— ì €ì¥ëœ ë…¸ë“œ ì •ë³´(ë…¸ë“œ ê°„ ì—°ê²° ê±°ë¦¬)ë¥¼ ë°°ì—´ì— ì €ì¥
    $graph = []; 
    foreach (Node::select('node_id')->cursor() as $node) {
        $graph["$node->node_id"] = [];
        foreach (NodeDistance::cursor() as $distance) {
            //ë…¸ë“œ ê°„ ê±°ë¦¬ ì €ì¥
            if($distance->node_A == $node->node_id){
                $graph["$node->node_id"]["$distance->node_B"] = $distance->distance;
            }
        }
    }
    $algorithm = new Dijkstra($graph);  //ë‹¤ìµìŠ¤íƒ€ë¼ ì•Œê³ ë¦¬ì¦˜ ì ìš© 
    //í™˜ìê°€ ê°€ì•¼í•˜ëŠ” ë™ì„  ê°€ì ¸ì˜¤ê¸° 
    $flows      = Auth::guard('patient')->user()->flow()->with('room_location')->where("flow_status_check", 1)->get();
    $start_node = [];
    $end_node   = [];
    $i          = 0;
    //ì „ì²´ ë™ì„ ì˜ ì¶œë°œì  , ë„ì°©ì  ì €ì¥ 
    foreach($flows as $flow){
        array_push($start_node, $flow->room_location->room_node);
        if($i === 0){
            $i = 1;
            continue;
        }
        array_push($end_node, $flow->room_location->room_node);
    }
    // return response()->json([
    //     'start_node' => $start_node,
    //     'end_node' => $end_node
    // ],200);
    //ì¶œë°œì  ë…¸ë“œì™€ ë„ì°©ì  ë…¸ë“œ ì‚¬ì´ì˜ ìµœë‹¨ ê²½ë¡œ ê°€ì ¸ì˜¤ê¸° 
    $paths = [];
    for($i = 0 ; $i < count($end_node) ; $i++){
        $path = $algorithm->shortestPaths($start_node[$i], $end_node[$i]); 
        array_push($paths, $path);
    }
    //ìµœë‹¨ ê²½ë¡œì— ìˆëŠ” ë…¸ë“œë“¤ì— ëŒ€í•œ ì •ë³´ë¥¼ DBì—ì„œ ê°€ì ¸ì™€ì„œ nodeFlow ë°°ì—´ì— ì €ì¥ 
    $nodeFlows = [];
    for($i = 0 ; $i < count($paths) ; $i++){
        $path = implode(',', $paths[$i][0]); //WhereInì€ ìë™ sortë˜ë¯€ë¡œ implode í›„ FIELD í•´ì•¼í•¨
        $nodeFlow = Node::whereIn('node_id', $paths[$i][0])->orderByRaw(DB::raw("FIELD(node_id, $path)"))->get();
        
        // $nodeFlow = Node::whereIn('node_id', $paths[$i][0])->get();
        array_push($nodeFlows, $nodeFlow);
    }
    //ì „ì²´ ì§„ë£Œ ë™ì„ ì˜ ìµœë‹¨ ê²½ë¡œ ë°˜í™˜         
    return response()->json([
        'nodeFlow' => $nodeFlows,
    ],200);
    // [], JSON_PRETTY_PRINT
}
```


# WhereIn ì •ë ¬ë¬¸ì œ 
```php 
$temp = [22, 26, 20, 24];
$tempStr = implode(',', $temp);
$robjeks = DB::table('objek')
    ->whereIn('id', $temp)
    ->orderByRaw(DB::raw("FIELD(id, $tempStr)"))
    ->get();
```
# ì´ë¯¸ì§€ ì—…ë¡œë“œ 

extension=php_fileinfo.dll

# JWT ì¸ì¦ ì„œë¹„ìŠ¤ 
- composer require tymon/jwt-auth
- php artisan vendor:publish --provider="Tymon\JWTAuth\Providers\LaravelServiceProvider"\
<br>
config/jwt.php ìƒê¹€ 

- php artisan jwt:secret
- .envì— íŒŒì¼ ì—…ë°ì´íŠ¸ -> JWT_SECRET=foobar

- ëª¨ë¸ ì—…ë°ì´íŠ¸ 
```php
use Tymon\JWTAuth\Contracts\JWTSubject;
use Illuminate\Notifications\Notifiable;
use Illuminate\Foundation\Auth\User as Authenticatable;

public function getJWTIdentifier()
{
    return $this->getKey();
}

public function getJWTCustomClaims()
{
    return [];
}
```
- config/auth.php
```php
'defaults' => [ 
    'guard' => 'api',
    'passwords' => 'users',
],

...

'guards' => [
    'api' => [
        'driver' => 'jwt',
        'provider' => 'users',
    ],
],
Route::group([

    'middleware' => 'api',
    'prefix' => 'auth'

], 
```
- routes/api.php
```php

function ($router) {

    Route::post('login', 'AuthController@login');
    Route::post('logout', 'AuthController@logout');
    Route::post('refresh', 'AuthController@refresh');
    Route::post('me', 'AuthController@me');

});
```
- AuthController
```php

namespace App\Http\Controllers;

use Illuminate\Support\Facades\Auth;
use App\Http\Controllers\Controller;

class AuthController extends Controller
{
    /**
     * Create a new AuthController instance.
     *
     * @return void
     */
    public function __construct()
    {
        $this->middleware('auth:api', ['except' => ['login']]);
    }

    /**
     * Get a JWT via given credentials.
     *
     * @return \Illuminate\Http\JsonResponse
     */
    public function login()
    {
        $credentials = request(['email', 'password']);

        if (! $token = auth()->attempt($credentials)) {
            return response()->json(['error' => 'Unauthorized'], 401);
        }

        return $this->respondWithToken($token);
    }

    /**
     * Get the authenticated User.
     *
     * @return \Illuminate\Http\JsonResponse
     */
    public function me()
    {
        return response()->json(auth()->user());
    }

    /**
     * Log the user out (Invalidate the token).
     *
     * @return \Illuminate\Http\JsonResponse
     */
    public function logout()
    {
        auth()->logout();

        return response()->json(['message' => 'Successfully logged out']);
    }

    /**
     * Refresh a token.
     *
     * @return \Illuminate\Http\JsonResponse
     */
    public function refresh()
    {
        return $this->respondWithToken(auth()->refresh());
    }

    /**
     * Get the token array structure.
     *
     * @param  string $token
     *
     * @return \Illuminate\Http\JsonResponse
     */
    protected function respondWithToken($token)
    {
        return response()->json([
            'access_token' => $token,
            'token_type' => 'bearer',
            'expires_in' => auth()->factory()->getTTL() * 60
        ]);
    }
}
```
- ìŠ¹ì¸ëœ í—¤ë” 
<br>Authorization: Bearer eyJhbGciOiJIUzI1NiI..

- config/jwt.php 
<br> 'secret' => env('JWT_SECRET'),

- composer require fruitcake / laravel-cors
- Kerner.php 
```php 
protected $middleware = [
        \Fruitcake\Cors\HandleCors::class,
    ];
```
- jwt.php ë³€ê²½ 
```php
        // 'jwt' => Tymon\JWTAuth\Providers\JWT\Lcobucci::class,
        'jwt' => Tymon\JWTAuth\Providers\JWT\Namshi::class,
```
[ì°¸ê³ ìë£Œ](https://www.youtube.com/watch?v=iQv2mdktmzE)
[ì°¸ê³ ìë£Œ2] (https://medium.com/@ripoche.b/create-a-spa-with-role-based-authentication-with-laravel-and-vue-js-ac4b260b882f)


# 2ê°œì˜ í…Œì´ë¸” Auth
- Illuminate\Foundation\Auth 
```php
namespace Illuminate\Foundation\Auth;
use Illuminate\Auth\Authenticatable;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Auth\Passwords\CanResetPassword;
use Illuminate\Foundation\Auth\Access\Authorizable;
use Illuminate\Contracts\Auth\Authenticatable as AuthenticatableContract;
use Illuminate\Contracts\Auth\Access\Authorizable as AuthorizableContract;
use Illuminate\Contracts\Auth\CanResetPassword as CanResetPasswordContract;

    class Admin extends Model implements
        AuthenticatableContract,
        AuthorizableContract,
        CanResetPasswordContract
    {
        use Authenticatable, Authorizable, CanResetPassword;
    } 
```
- Authenticatable í™•ì¥ -> Admin ëª¨ë¸ 
```php 
namespace App;
use Illuminate\Foundation\Auth\Admin as Authenticatable;

class Admin extends Authenticatable
{
    /**
     * The attributes that are mass assignable.
     *
     * @var array
     */
    protected $fillable = [
        'name', 'email', 'password',
    ];

    /**
     * The attributes that should be hidden for arrays.
     *
     * @var array
     */
    protected $hidden = [
        'password', 'remember_token',
    ];
}

```
- config/auth.php -> providers  ë³€ê²½ 
```php 
'admins' => [
            'driver' => 'eloquent',
            'model' => App\Admin::class,
        ], 
```
- config/auth.php guards ë³€ê²½ 
```php 
 'user' => [
            'driver' => 'session',
            'provider' => 'users',
        ],
 'admin' => [
            'driver' => 'session',
            'provider' => 'admins',
        ],
```

- ì»¨íŠ¸ë¡¤ëŸ¬ 
```php 
#user
if (Auth::guard('user')->attempt(['email' => $email, 'password' => $password])) {
    $details = Auth::guard('user')->user();
    $user = $details['original'];
    return $user;
} else {
    return 'auth fail';
}

#admin
if (Auth::guard('admin')->attempt(['email' => $email, 'password' => $password])) {
    $details = Auth::guard('admin')->user();
    $user = $details['original'];
    return $user;
} else {
    return 'auth fail';
    }
```

# Pusher ì‚¬ìš© ë°©ë²• 

- composer require pusher/pusher-php-server "~4.0"
- pusher í™ˆí˜ì´ì§€ create app 
- bootstrap.js 
```javascript
import Echo from 'laravel-echo';

window.Pusher = require('pusher-js');

window.Echo = new Echo({
    broadcaster: 'pusher',
    key: process.env.MIX_PUSHER_APP_KEY,
    cluster: process.env.MIX_PUSHER_APP_CLUSTER,
    forceTLS: true
});
```

- env 
```php 
PUSHER_APP_ID=1145876
PUSHER_APP_KEY=7ed3a4ce8ebfe9741f98
PUSHER_APP_SECRET=a42171617fb6bbb4204c
PUSHER_APP_CLUSTER=ap3


BROADCAST_DRIVER=pusher

```
- config/broadcasting.php

```php
'pusher' => [
            'driver' => 'pusher',
            'key' => env('PUSHER_APP_KEY'),
            'secret' => env('PUSHER_APP_SECRET'),
            'app_id' => env('PUSHER_APP_ID'),
            'options' => [
                'cluster' => "ap3",
                'useTLS' => false,  //https - true 
            ],
        ], 
```
- config\app.php 
```php
    #ì£¼ì„ í’€ì–´ì£¼ê¸° 
    App\Providers\BroadcastServiceProvider::class,
```

- Providers\BroadcastServiceProvider.php 
```php
    public function boot()
    {
        Broadcast::routes();

        require base_path('routes/channels.php');
    }

    
```
- php artisan config:clear 

- php artisan make:event MessageSent 
```php
use Illuminate\Queue\SerializesModels;
use Illuminate\Foundation\Events\Dispatchable;
use Illuminate\Broadcasting\InteractsWithSockets;
use Illuminate\Contracts\Broadcasting\ShouldBroadcast;

class MyEvent implements ShouldBroadcast
{
  use Dispatchable, InteractsWithSockets, SerializesModels;

  public $message;

  public function __construct($message)
  {
      $this->message = $message;
  }
//ì±„ë„ ì´ë¦„
  public function broadcastOn()
  {
      return ['my-channel'];
  }
//ì´ë²¤íŠ¸ ì´ë¦„
  public function broadcastAs()
  {
      return 'my-event';
  }
}
```
- ì»¨íŠ¸ë¡¤ëŸ¬ -> MessageSent::dispatch() ì¸ìê°’ìœ¼ë¡œ ë©”ì‹œì§€ ë³´ë‚´ê¸° (use ë°˜ë“œì‹œ)

# AWS VS code ì—°ë™ 
- VSCodeì˜ extensioní•­ëª©ì—ì„œ ftp-simpleì„ ê²€ìƒ‰ í›„ install í´ë¦­
- f1í‚¤ ëˆŒëŸ¬ì£¼ê³  ftp-simple : Config - FTP connection settingì„ ì°¾ì•„ì„œ í´ë¦­
- jsoníŒŒì¼ì´ ë³´ì´ëŠ”ë° ì´ jsoníŒŒì¼ì„ ìˆ˜ì •í•´ ì¤˜ì•¼í•¨
- ìœ„ê³¼ ê°™ì´ ìˆ˜ì •
<br>name: name
<br>host: AWS public IPì£¼ì†Œ ë˜ëŠ” DNS
<br>port: ssh ì´ë¯€ë¡œ sftpë‹¤. ë”°ë¼ì„œ 22ë²ˆ í¬íŠ¸ê°€ default( ftpëŠ” 21 )
<br>type: ssh ì´ë¯€ë¡œ sftp
<br>username: aws ì ‘ì†ì‹œ username
<br>password: ì—†ìœ¼ë©´ ê³µë€
<br>path: ì ‘ì† ì„±ê³µì‹œ defaultê²½ë¡œ
<br>privateKeyPath: aws pemí‚¤ ë¡œì»¬ ê²½ë¡œ
<br>
- F1í‚¤ ëˆŒëŸ¬ì„œ ftp-simple : Remote directory open to workspace ì„ íƒ -> â€œprivateKeyPathâ€ê°€ ì•„ë‹ˆë¼ â€œprivateKeyâ€ ë‹¤
- f1ëˆŒëŸ¬ì„œ enterëˆ„ë¥´ë‹¤ë³´ë©´ /home/ubuntu
- ê¶Œí•œë„ ë³€ê²½í•´ì¤˜ì•¼í•¨


# AWS ì—°ë™ 
- GRANT ALL PRIVILEGES ON *.* TO 'phpmyadmin'@'localhost' WITH GRANT OPTION;
- FLUSH PRIVILEGES;
- SELECT User, Host, plugin FROM mysql.user;   
- sudo vi config-db.php
- cd phpmyadmin/
- DB ì£¼ì†Œë³´ê¸° (env íŒŒì¼)

[ì¶œì²˜] (https://velog.io/@wimes/AWS-%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95-3-92k28oayef)




![Laravel best practices](/images/logo-english.png?raw=true)

ë²ˆì—­:

[í•œêµ­ì–´](https://github.com/xotrs/laravel-best-practices) (by [ì„ì˜ë¡(cherrypick)](https://github.com/xotrs))

[Ğ ÑƒÑÑĞºĞ¸Ğ¹](https://github.com/alexeymezenin/laravel-best-practices/)(by [alexeymezenin](https://github.com/alexeymezenin))

[PortuguÃªs](https://github.com/jonaselan/laravel-best-practices) (by [jonaselan](https://github.com/jonaselan))

[Tiáº¿ng Viá»‡t](https://chungnguyen.xyz/posts/code-laravel-lam-sao-cho-chuan) (by [Chung Nguyá»…n](https://github.com/nguyentranchung))

ì´ ë¬¸ì„œê°€ ë„ì›€ì´ ë˜ì…¨ë‹¤ë©´ í˜„ì¬ ë ˆí¼ì§€í† ë¦¬ë¿ë§Œ ì•„ë‹ˆë¼, ì›ë³¸ ë ˆí¼ì§€í† ë¦¬ë„ í•œ ë²ˆì”© starë¥¼ ëˆŒëŸ¬ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤. :D
<br>
ì›ë³¸ ë ˆí¼ì§€í† ë¦¬: https://github.com/alexeymezenin/laravel-best-practices

ì´ ë¬¸ì„œëŠ” ë¼ë¼ë²¨ í”„ë ˆì„ì›Œí¬ì—ì„œ ê°ì²´ì§€í–¥ ë””ìì¸ì˜ 5ì›ì¹™(SOLID), íŒ¨í„´ ë“±ì„ ì ìš©í•œ ë‚´ìš©ì´ ì•„ë‹™ë‹ˆë‹¤. ë¼ë¼ë²¨ í”„ë ˆì„ì›Œí¬ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ë†“ì¹  ìˆ˜ ìˆëŠ” Best practiceì— ëŒ€í•´ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.



## Contents
[ë‹¨ì¼ ì±…ì„ ì›ì¹™](#ë‹¨ì¼-ì±…ì„-ì›ì¹™)

[ëª¨ë¸ì€ ë¬´ê²ê²Œ, ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ê°€ë³ê²Œ](#ëª¨ë¸ì€-ë¬´ê²ê²Œ-ì»¨íŠ¸ë¡¤ëŸ¬ëŠ”-ê°€ë³ê²Œ)

[Validation-ìœ íš¨ì„± ê²€ì‚¬](#validation-ìœ íš¨ì„±-ê²€ì‚¬)

[ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤.](#ë¹„ì¦ˆë‹ˆìŠ¤-ë¡œì§ì€-ì„œë¹„ìŠ¤-í´ë˜ìŠ¤ì—-ìˆì–´ì•¼-í•©ë‹ˆë‹¤)

[ì¤‘ë³µ ë°°ì œ(Don't repeat yourself)](#ì¤‘ë³µ-ë°°ì œdont-repeat-yourself)

[Query Builder, raw SQL ì¿¼ë¦¬ë³´ë‹¤ Eloquentë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.](#query-builder-raw-sql-ì¿¼ë¦¬ë³´ë‹¤-eloquentë¥¼-ì‚¬ìš©í•˜ëŠ”-ê²ƒì´-ì¢‹ìŠµë‹ˆë‹¤)

[Mass assignment-ëŒ€ëŸ‰ í• ë‹¹](#mass-assignment-ëŒ€ëŸ‰-í• ë‹¹)

[ë¸”ë ˆì´ë“œ í…œí”Œë¦¿ì—ì„œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ì¦‰ì‹œ ë¡œë”©ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.(N + 1 ë¬¸ì œ)](#ë¸”ë ˆì´ë“œ-í…œí”Œë¦¿ì—ì„œ-ì¿¼ë¦¬ë¥¼-ì‹¤í–‰í•˜ì§€-ì•ŠìŠµë‹ˆë‹¤-ê·¸ë¦¬ê³ -ì¦‰ì‹œ-ë¡œë”©ì„-ì‚¬ìš©í•©ë‹ˆë‹¤n--1-ë¬¸ì œ)

[ì½”ë“œì— ì£¼ì„ì„ ì‘ì„±í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì£¼ì„ë³´ë‹¤ ì˜ë¯¸ìˆëŠ” ë©”ì„œë“œ ì´ë¦„ê³¼ ë³€ìˆ˜ ì´ë¦„ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì¢‹ìŠµë‹ˆë‹¤.](#ì½”ë“œì—-ì£¼ì„ì„-ì‘ì„±í•©ë‹ˆë‹¤-í•˜ì§€ë§Œ-ì£¼ì„ë³´ë‹¤-ì˜ë¯¸ìˆëŠ”-ë©”ì„œë“œ-ì´ë¦„ê³¼-ë³€ìˆ˜-ì´ë¦„ì„-ì‚¬ìš©í•˜ëŠ”-ê²ƒì´-ë”-ì¢‹ìŠµë‹ˆë‹¤)

[ë¸”ë ˆì´ë“œ í…œí”Œë¦¿ì— JSì™€ CSSë¥¼ ì‘ì„±í•˜ì§€ ì•Šê³  PHP í´ë˜ìŠ¤ì— HTMLì„ ì‘ì„±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.](#ë¸”ë ˆì´ë“œ-í…œí”Œë¦¿ì—-jsì™€-cssë¥¼-ì‘ì„±í•˜ì§€-ì•Šê³ -php-í´ë˜ìŠ¤ì—-htmlì„-ì‘ì„±í•˜ì§€-ì•ŠìŠµë‹ˆë‹¤)

[ì½”ë“œì— í…ìŠ¤íŠ¸ë¡œ ì‘ì„±í•˜ì§€ ì•Šê³ , ì„¤ì • íŒŒì¼, ì–¸ì–´ íŒŒì¼, ìƒìˆ˜ ë“±ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.](#ì½”ë“œì—-í…ìŠ¤íŠ¸ë¡œ-ì‘ì„±í•˜ì§€-ì•Šê³ -ì„¤ì •-íŒŒì¼-ì–¸ì–´-íŒŒì¼-ìƒìˆ˜-ë“±ì„-ì‚¬ìš©í•©ë‹ˆë‹¤)

[ë¼ë¼ë²¨ ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ìˆ˜ìš©í•˜ëŠ” í‘œì¤€ ë¼ë¼ë²¨ ë„êµ¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.](#ë¼ë¼ë²¨-ì»¤ë®¤ë‹ˆí‹°ì—ì„œ-ìˆ˜ìš©í•˜ëŠ”-í‘œì¤€-ë¼ë¼ë²¨-ë„êµ¬ë¥¼-ì‚¬ìš©í•©ë‹ˆë‹¤)

[ë¼ë¼ë²¨ ë„¤ì´ë° ê·œì¹™ì„ ë”°ë¦…ë‹ˆë‹¤.](#ë¼ë¼ë²¨-ë„¤ì´ë°-ê·œì¹™ì„-ë”°ë¦…ë‹ˆë‹¤)

[ë  ìˆ˜ ìˆìœ¼ë©´ ì§§ê³  ì½ê¸° ì‰¬ìš´ ë¬¸ë²•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.](#ë -ìˆ˜-ìˆìœ¼ë©´-ì§§ê³ -ì½ê¸°-ì‰¬ìš´-ë¬¸ë²•ì„-ì‚¬ìš©í•©ë‹ˆë‹¤)

[new Class ëŒ€ì‹  IoC ì»¨í…Œì´ë„ˆ ë˜ëŠ” íŒŒì‚¬ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.](#new-class-ëŒ€ì‹ -ioc-ì»¨í…Œì´ë„ˆ-ë˜ëŠ”-íŒŒì‚¬ë“œë¥¼-ì‚¬ìš©í•©ë‹ˆë‹¤)

[.env íŒŒì¼ì—ì„œ ì§ì ‘ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ì§€ ì•ŠìŠµë‹ˆë‹¤.](#env-íŒŒì¼ì—ì„œ-ì§ì ‘-ë°ì´í„°ë¥¼-ê°€ì ¸ì˜¤ì§€-ì•ŠìŠµë‹ˆë‹¤)

[ë‚ ì§œë¥¼ í‘œì¤€ í˜•ì‹ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤. accessors(get), mutators(set)ì„ ì‚¬ìš©í•´ ë‚ ì§œ í˜•ì‹ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.](#ë‚ ì§œë¥¼-í‘œì¤€-í˜•ì‹ìœ¼ë¡œ-ì €ì¥í•©ë‹ˆë‹¤-accessorsget-mutatorssetì„-ì‚¬ìš©í•´-ë‚ ì§œ-í˜•ì‹ì„-ìˆ˜ì •í•©ë‹ˆë‹¤)

[ë˜ ë‹¤ë¥¸ ì¢‹ì€ ì‚¬ë¡€](#ë˜-ë‹¤ë¥¸-ì¢‹ì€-ì‚¬ë¡€)

### **ë‹¨ì¼ ì±…ì„ ì›ì¹™**

í´ë˜ìŠ¤ì™€ ë©”ì„œë“œëŠ” í•˜ë‚˜ì˜ ì±…ì„ë§Œ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

ë‚˜ìœ ì˜ˆ:

```php
public function getFullNameAttribute()
{
    if (auth()->user() && auth()->user()->hasRole('client') && auth()->user()->isVerified()) {
        return 'Mr. ' . $this->first_name . ' ' . $this->middle_name . ' ' . $this->last_name;
    } else {
        return $this->first_name[0] . '. ' . $this->last_name;
    }
}
```

ì¢‹ì€ ì˜ˆ:

```php
public function getFullNameAttribute()
{
    return $this->isVerifiedClient() ? $this->getFullNameLong() : $this->getFullNameShort();
}

public function isVerifiedClient()
{
    return auth()->user() && auth()->user()->hasRole('client') && auth()->user()->isVerified();
}

public function getFullNameLong()
{
    return 'Mr. ' . $this->first_name . ' ' . $this->middle_name . ' ' . $this->last_name;
}

public function getFullNameShort()
{
    return $this->first_name[0] . '. ' . $this->last_name;
}
```

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **ëª¨ë¸ì€ ë¬´ê²ê²Œ, ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ê°€ë³ê²Œ**

DBì™€ ê´€ë ¨ëœ ë¡œì§ì€ Eloquent ëª¨ë¸ì´ë‚˜ Repository í´ë˜ìŠ¤ì— ì‘ì„±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. 

ë‚˜ìœ ì˜ˆ:

```php
public function index()
{
    $clients = Client::verified()
        ->with(['orders' => function ($q) {
            $q->where('created_at', '>', Carbon::today()->subWeek());
        }])
        ->get();

    return view('index', ['clients' => $clients]);
}
```

ì¢‹ì€ ì˜ˆ:

```php
public function index()
{
    return view('index', ['clients' => $this->client->getWithNewOrders()]);
}

class Client extends Model
{
    public function getWithNewOrders()
    {
        return $this->verified()
            ->with(['orders' => function ($q) {
                $q->where('created_at', '>', Carbon::today()->subWeek());
            }])
            ->get();
    }
}
```

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **Validation-ìœ íš¨ì„± ê²€ì‚¬**

ìœ íš¨ì„± ê²€ì‚¬ ë¡œì§ì„ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ Request í´ë˜ìŠ¤ë¡œ ì˜®ê¹ë‹ˆë‹¤.

ë‚˜ìœ ì˜ˆ:

```php
public function store(Request $request)
{
    $request->validate([
        'title' => 'required|unique:posts|max:255',
        'body' => 'required',
        'publish_at' => 'nullable|date',
    ]);

    ....
}
```

ì¢‹ì€ ì˜ˆ:

```php
public function store(PostRequest $request)
{    
    ....
}

class PostRequest extends Request
{
    public function rules()
    {
        return [
            'title' => 'required|unique:posts|max:255',
            'body' => 'required',
            'publish_at' => 'nullable|date',
        ];
    }
}
```

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤.**

ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°€ì§€ê¸° ë•Œë¬¸ì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤.


ë‚˜ìœ ì˜ˆ:

```php
public function store(Request $request)
{
    if ($request->hasFile('image')) {
        $request->file('image')->move(public_path('images') . 'temp');
    }
    
    ....
}
```

ì¢‹ì€ ì˜ˆ:

```php
public function store(Request $request)
{
    $this->articleService->handleUploadedImage($request->file('image'));

    ....
}

class ArticleService
{
    public function handleUploadedImage($image)
    {
        if (!is_null($image)) {
            $image->move(public_path('images') . 'temp');
        }
    }
}
```

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **ì¤‘ë³µ ë°°ì œ(Don't repeat yourself)**

ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•©ë‹ˆë‹¤. ë‹¨ì¼ ì±…ì„ ì›ì¹™ë¿ë§Œ ì•„ë‹ˆë¼ ë¸”ë ˆì´ë“œ í…œí”Œë¦¿, Eloquent ìŠ¤ì½”í”„ ë“±ì€ ì½”ë“œì˜ ì¤‘ë³µì„ í”¼í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.

ë‚˜ìœ ì˜ˆ:

```php
public function getActive()
{
    return $this->where('verified', 1)->whereNotNull('deleted_at')->get();
}

public function getArticles()
{
    return $this->whereHas('user', function ($q) {
            $q->where('verified', 1)->whereNotNull('deleted_at');
        })->get();
}
```

ì¢‹ì€ ì˜ˆ:

```php
public function scopeActive($q)
{
    return $q->where('verified', 1)->whereNotNull('deleted_at');
}

public function getActive()
{
    return $this->active()->get();
}

public function getArticles()
{
    return $this->whereHas('user', function ($q) {
            $q->active();
        })->get();
}
```

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **Query Builder, raw SQL ì¿¼ë¦¬ë³´ë‹¤ Eloquentë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.**

Eloquentë¥¼ ì‚¬ìš©í•˜ë©´ ì½ê¸° ì‰½ê³  ìœ ì§€ ë³´ìˆ˜í•  ìˆ˜ ìˆëŠ” ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. EloquentëŠ” ì†Œí”„íŠ¸ ì‚­ì œ, ì´ë²¤íŠ¸, ìŠ¤ì½”í”„ ë“± ì¢‹ì€ ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤.

ë‚˜ìœ ì˜ˆ:


```sql
SELECT *
FROM `articles`
WHERE EXISTS (SELECT *
              FROM `users`
              WHERE `articles`.`user_id` = `users`.`id`
              AND EXISTS (SELECT *
                          FROM `profiles`
                          WHERE `profiles`.`user_id` = `users`.`id`) 
              AND `users`.`deleted_at` IS NULL)
AND `verified` = '1'
AND `active` = '1'
ORDER BY `created_at` DESC
```

ì¢‹ì€ ì˜ˆ:

```php
Article::has('user.profile')->verified()->latest()->get();
```

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **Mass assignment-ëŒ€ëŸ‰ í• ë‹¹**

ë‚˜ìœ ì˜ˆ:

```php
$article = new Article;
$article->title = $request->title;
$article->content = $request->content;
$article->verified = $request->verified;
// Add category to article
$article->category_id = $category->id;
$article->save();
```

ì¢‹ì€ ì˜ˆ:

```php
$category->article()->create($request->all());
```

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **ë¸”ë ˆì´ë“œ í…œí”Œë¦¿ì—ì„œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ì¦‰ì‹œ ë¡œë”©ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.(N + 1 ë¬¸ì œ)**

ë‚˜ìœì˜ˆ (ìœ ì € ì „ì²´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¿¼ë¦¬(1ë²ˆ) + í•´ë‹¹ ìœ ì €ì˜ í”„ë¡œí•„ì„ ê°€ì ¸ì˜¤ëŠ” ì¿¼ë¦¬(100ë²ˆ) = 101ë²ˆ ì‹¤í–‰):

```php
@foreach (User::all() as $user)
    {{ $user->profile->name }}
@endforeach
```

ì¢‹ì€ ì˜ˆ (ìœ ì € ì „ì²´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¿¼ë¦¬(1ë²ˆ) + í•´ë‹¹ ìœ ì €ì˜ í”„ë¡œí•„ì„ ê°€ì ¸ì˜¤ëŠ” ì¿¼ë¦¬(1ë²ˆ) = 2ë²ˆ ì‹¤í–‰):

```php
$users = User::with('profile')->get();

...

@foreach ($users as $user)
    {{ $user->profile->name }}
@endforeach
```

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **ì½”ë“œì— ì£¼ì„ì„ ì‘ì„±í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì£¼ì„ë³´ë‹¤ ì˜ë¯¸ìˆëŠ” ë©”ì„œë“œ ì´ë¦„ê³¼ ë³€ìˆ˜ ì´ë¦„ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì¢‹ìŠµë‹ˆë‹¤.**

ë‚˜ìœ ì˜ˆ:

```php
if (count((array) $builder->getQuery()->joins) > 0)
```

ì¡°ê¸ˆ ë” ë‚˜ì€ ì˜ˆ:

```php
// Determine if there are any joins.
if (count((array) $builder->getQuery()->joins) > 0)
```

ì¢‹ì€ ì˜ˆ:

```php
if ($this->hasJoins())
```

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **ë¸”ë ˆì´ë“œ í…œí”Œë¦¿ì— JSì™€ CSSë¥¼ ì‘ì„±í•˜ì§€ ì•Šê³  PHP í´ë˜ìŠ¤ì— HTMLì„ ì‘ì„±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**

ë‚˜ìœ ì˜ˆ:

```php
let article = `{{ json_encode($article) }}`;
```

ì¡°ê¸ˆ ë” ë‚˜ì€ ì˜ˆ:

```php
<input id="article" type="hidden" value="{{ json_encode($article) }}">

Or

<button class="js-fav-article" data-article="{{ json_encode($article) }}">{{ $article->name }}<button>
```

ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼:

```php
let article = $('#article').val();
```

The best way is to use specialized PHP to JS package to transfer the data.

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **ì½”ë“œì— í…ìŠ¤íŠ¸ë¡œ ì‘ì„±í•˜ì§€ ì•Šê³ , ì„¤ì • íŒŒì¼, ì–¸ì–´ íŒŒì¼, ìƒìˆ˜ ë“±ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.**

ë‚˜ìœ ì˜ˆ:

```php
public function isNormal()
{
    return $article->type === 'normal';
}

return back()->with('message', 'Your article has been added!');
```

ì¢‹ì€ ì˜ˆ:

```php
public function isNormal()
{
    return $article->type === Article::TYPE_NORMAL;
}

return back()->with('message', __('app.article_added'));
```

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **ë¼ë¼ë²¨ ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ìˆ˜ìš©í•˜ëŠ” í‘œì¤€ ë¼ë¼ë²¨ ë„êµ¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.**

ì¨ë“œíŒŒí‹° íŒ¨í‚¤ì§€ ë° ë„êµ¬ ëŒ€ì‹  ë‚´ì¥ë˜ì–´ìˆëŠ” ë¼ë¼ë²¨ ê¸°ëŠ¥ê³¼ ì»¤ë®¤ë‹ˆí‹° íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. í”„ë¡œì íŠ¸ì— ì°¸ì—¬í•˜ê²Œ ë˜ëŠ” ê°œë°œìëŠ” ìƒˆë¡œìš´ ë„êµ¬ì— ëŒ€í•´ í•™ìŠµì„ í•´ì•¼í•©ë‹ˆë‹¤. ë˜í•œ ì¨ë“œíŒŒí‹° íŒ¨í‚¤ì§€ë‚˜ ë„êµ¬ë¥¼ ì‚¬ìš©í•  ë•Œ ë¼ë¼ë²¨ ì»¤ë®¤ë‹ˆí‹°ì˜ ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆëŠ” ê¸°íšŒê°€ ì¤„ì–´ë“­ë‹ˆë‹¤. 

Task | Standard tools | 3rd party tools
------------ | ------------- | -------------
Authorization | Policies | Entrust, Sentinel and other packages
Compiling assets | Laravel Mix | Grunt, Gulp, 3rd party packages
Development Environment | Homestead | Docker
Deployment | Laravel Forge | Deployer and other solutions
Unit testing | PHPUnit, Mockery | Phpspec
Browser testing | Laravel Dusk | Codeception
DB | Eloquent | SQL, Doctrine
Templates | Blade | Twig
Working with data | Laravel collections | Arrays
Form validation | Request classes | 3rd party packages, validation in controller
Authentication | Built-in | 3rd party packages, your own solution
API authentication | Laravel Passport | 3rd party JWT and OAuth packages
Creating API | Built-in | Dingo API and similar packages
Working with DB structure | Migrations | Working with DB structure directly
Localization | Built-in | 3rd party packages
Realtime user interfaces | Laravel Echo, Pusher | 3rd party packages and working with WebSockets directly
Generating testing data | Seeder classes, Model Factories, Faker | Creating testing data manually
Task scheduling | Laravel Task Scheduler | Scripts and 3rd party packages
DB | MySQL, PostgreSQL, SQLite, SQL Server | MongoDB

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **ë¼ë¼ë²¨ ë„¤ì´ë° ê·œì¹™ì„ ë”°ë¦…ë‹ˆë‹¤.**

 [PSR í‘œì¤€](http://www.php-fig.org/psr/psr-2/)ì„ ë”°ë¦…ë‹ˆë‹¤.
 
ë˜í•œ ë¼ë¼ë²¨ ì»¤ë®¤ë‹ˆí‹°ì—ì„œ ìˆ˜ìš©í•˜ê³  ìˆëŠ” ë„¤ì´ë° ê·œì¹™ì„ ë”°ë¦…ë‹ˆë‹¤:

What | How | Good | Bad
------------ | ------------- | ------------- | -------------
Controller | singular | ArticleController | ~~ArticlesController~~
Route | plural | articles/1 | ~~article/1~~
Named route | snake_case with dot notation | users.show_active | ~~users.show-active, show-active-users~~
Model | singular | User | ~~Users~~
hasOne or belongsTo relationship | singular | articleComment | ~~articleComments, article_comment~~
All other relationships | plural | articleComments | ~~articleComment, article_comments~~
Table | plural | article_comments | ~~article_comment, articleComments~~
Pivot table | singular model names in alphabetical order | article_user | ~~user_article, articles_users~~
Table column | snake_case without model name | meta_title | ~~MetaTitle; article_meta_title~~
Model property | snake_case | $model->created_at | ~~$model->createdAt~~
Foreign key | singular model name with _id suffix | article_id | ~~ArticleId, id_article, articles_id~~
Primary key | - | id | ~~custom_id~~
Migration | - | 2017_01_01_000000_create_articles_table | ~~2017_01_01_000000_articles~~
Method | camelCase | getAll | ~~get_all~~
Method in resource controller | [table](https://laravel.com/docs/master/controllers#resource-controllers) | store | ~~saveArticle~~
Method in test class | camelCase | testGuestCannotSeeArticle | ~~test_guest_cannot_see_article~~
Variable | camelCase | $articlesWithAuthor | ~~$articles_with_author~~
Collection | descriptive, plural | $activeUsers = User::active()->get() | ~~$active, $data~~
Object | descriptive, singular | $activeUser = User::active()->first() | ~~$users, $obj~~
Config and language files index | snake_case | articles_enabled | ~~ArticlesEnabled; articles-enabled~~
View | snake_case | show_filtered.blade.php | ~~showFiltered.blade.php, show-filtered.blade.php~~
Config | snake_case | google_calendar.php | ~~googleCalendar.php, google-calendar.php~~
Contract (interface) | adjective or noun | Authenticatable | ~~AuthenticationInterface, IAuthentication~~
Trait | adjective | Notifiable | ~~NotificationTrait~~

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **ë  ìˆ˜ ìˆìœ¼ë©´ ì§§ê³  ì½ê¸° ì‰¬ìš´ ë¬¸ë²•ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.**

ë‚˜ìœ ì˜ˆ:

```php
$request->session()->get('cart');
$request->input('name');
```

ì¢‹ì€ ì˜ˆ:

```php
session('cart');
$request->name;
```

ë” ë§ì€ ì˜ˆì‹œ:

Common syntax | Shorter and more readable syntax
------------ | -------------
`Session::get('cart')` | `session('cart')`
`$request->session()->get('cart')` | `session('cart')`
`Session::put('cart', $data)` | `session(['cart' => $data])`
`$request->input('name'), Request::get('name')` | `$request->name, request('name')`
`return Redirect::back()` | `return back()`
`is_null($object->relation) ? $object->relation->id : null }` | `optional($object->relation)->id`
`return view('index')->with('title', $title)->with('client', $client)` | `return view('index', compact('title', 'client'))`
`$request->has('value') ? $request->value : 'default';` | `$request->get('value', 'default')`
`Carbon::now(), Carbon::today()` | `now(), today()`
`App::make('Class')` | `app('Class')`
`->where('column', '=', 1)` | `->where('column', 1)`
`->orderBy('created_at', 'desc')` | `->latest()`
`->orderBy('age', 'desc')` | `->latest('age')`
`->orderBy('created_at', 'asc')` | `->oldest()`
`->select('id', 'name')->get()` | `->get(['id', 'name'])`
`->first()->name` | `->value('name')`

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **new Class ëŒ€ì‹  IoC ì»¨í…Œì´ë„ˆ ë˜ëŠ” íŒŒì‚¬ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.**

new Class ë¬¸ë²•ì€ í´ë˜ìŠ¤ ê°„ì˜ ê²°í•©ë„ë¥¼ ë†’ì´ê³  í…ŒìŠ¤íŠ¸ë¥¼ ë³µì¡í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤. new Class ë¬¸ë²• ëŒ€ì‹ ì— IoC ì»¨í…Œì´ë„ˆ ë˜ëŠ” íŒŒì‚¬ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

ë‚˜ìœ ì˜ˆ:

```php
$user = new User;
$user->create($request->all());
```

ì¢‹ì€ ì˜ˆ:

```php
public function __construct(User $user)
{
    $this->user = $user;
}

....

$this->user->create($request->all());
```

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **`.env` íŒŒì¼ì—ì„œ ì§ì ‘ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ì§€ ì•ŠìŠµë‹ˆë‹¤.**

ë°ì´í„°ë¥¼ ì„¤ì • íŒŒì¼ì— ì „ë‹¬í•œ ë‹¤ìŒ `config()` helper í•¨ìˆ˜ë¥¼ í†µí•´ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

ë‚˜ìœ ì˜ˆ:

```php
$apiKey = env('API_KEY');
```

ì¢‹ì€ ì˜ˆ:

```php
// config/api.php
'key' => env('API_KEY'),

// Use the data
$apiKey = config('api.key');
```

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **ë‚ ì§œë¥¼ í‘œì¤€ í˜•ì‹ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤. accessors(get), mutators(set)ì„ ì‚¬ìš©í•´ ë‚ ì§œ í˜•ì‹ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.**

ë‚˜ìœ ì˜ˆ:

```php
{{ Carbon::createFromFormat('Y-d-m H-i', $object->ordered_at)->toDateString() }}
{{ Carbon::createFromFormat('Y-d-m H-i', $object->ordered_at)->format('m-d') }}
```

ì¢‹ì€ ì˜ˆ:

```php
// Model
protected $dates = ['ordered_at', 'created_at', 'updated_at']
public function getSomeDateAttribute($date)
{
    return $date->format('m-d');
}

// View
{{ $object->ordered_at->toDateString() }}
{{ $object->ordered_at->some_date }}
```

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)

### **ë˜ ë‹¤ë¥¸ ì¢‹ì€ ì‚¬ë¡€**

ë¼ìš°íŠ¸ íŒŒì¼ì— ë¡œì§ì„ ì‘ì„±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ë¸”ë ˆì´ë“œ í…œí”Œë¦¿ì— ë°”ë‹ë¼ PHPì˜ ì‚¬ìš©ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤.

[ğŸ” ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](#contents)
